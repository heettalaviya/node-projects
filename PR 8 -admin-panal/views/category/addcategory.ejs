<%- include('../header')%>

<div class="page-wrapper">
    <div class="container-fluid">

        <!-- Page Title -->
        <div class="row mb-4">
            <div class="col-12">
                <h3 class="text-center fw-bold">Add New Category</h3>
                <p class="text-center text-muted">Fill the details to create a category</p>
            </div>
        </div>

        <!-- Form Card -->
        <div class="row justify-content-center">
            <div class="col-lg-5 col-md-7">

                <div class="card shadow-lg border-0 rounded-4">
                    <div class="card-body p-4">

                        <form action="/category/add-category" method="post" enctype="multipart/form-data">

                            <!-- Category Name -->
                            <div class="mb-4">
                                <label class="form-label fw-semibold">Category Name</label>
                                <input 
                                    type="text"
                                    name="categoryName"
                                    class="form-control form-control-lg rounded-3"
                                    placeholder="Enter category name"
                                    required
                                >
                            </div>

                            <!-- Image Upload -->
                            <div class="mb-4">
                                <label class="form-label fw-semibold">Category Image</label>

                                <div class="upload-box text-center p-4 rounded-3 border border-2 border-dashed">

                                    <input 
                                        type="file"
                                        name="categoryImage"
                                        id="imageInput"
                                        class="form-control"
                                        accept="image/*"
                                        required
                                    >

                                    <p class="text-muted mt-2 mb-0">
                                        Upload image (PNG, JPG)
                                    </p>

                                    <!-- Preview -->
                                    <img 
                                        id="previewImage"
                                        src=""
                                        class="img-fluid mt-3 d-none rounded-3"
                                        style="max-height:150px;"
                                    >
                                </div>
                            </div>

                            <!-- Submit -->
                            <div class="text-center">
                                <button class="btn btn-primary px-5 py-2 rounded-3">
                                    <i class="mdi mdi-content-save"></i> Submit
                                </button>
                            </div>

                        </form>

                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<%- include('../footer')%>

<!-- Image Preview Script -->
<script>
document.getElementById("imageInput").addEventListener("change", function(event) {
    const file = event.target.files[0];
    const preview = document.getElementById("previewImage");

    if (file) {
        preview.src = URL.createObjectURL(file);
        preview.classList.remove("d-none");
    }
});
</script>

<!-- Custom Style -->
<style>
.upload-box {
    background: #f8f9fa;
    cursor: pointer;
    transition: 0.3s;
}
.upload-box:hover {
    background: #eef1f4;
}
.border-dashed {
    border-style: dashed !important;
}
</style>
