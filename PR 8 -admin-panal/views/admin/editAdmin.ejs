<%- include('../header') %>

<div class="page-wrapper">
    <div class="container-fluid py-4">

        <div class="row justify-content-center">
            <div class="col-lg-8">

                <div class="card shadow-lg border-0 rounded-4">
                    <div class="card-body p-5">

                        <h3 class="text-center fw-bold mb-4">
                            Edit Admin Profile
                        </h3>

                        <form action="/admin/update-admin/<%= admin.id %>"
                              method="POST"
                              enctype="multipart/form-data">

                            <!-- Profile Image -->
                            <div class="text-center mb-4">

                                <img id="previewImg"
                                     src="<%= admin.profileImage %>"
                                     class="rounded-circle shadow border"
                                     width="130" height="130"
                                     style="object-fit:cover;">

                                <div class="mt-3">
                                    <input type="file"
                                           name="profileImage"
                                           class="form-control"
                                           onchange="previewFile(this)">
                                </div>
                            </div>

                            <!-- First + Last Name -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">First Name</label>
                                    <input type="text"
                                           name="firstname"
                                           class="form-control rounded-3"
                                           value="<%= admin.firstname %>"
                                           required>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Last Name</label>
                                    <input type="text"
                                           name="lastname"
                                           class="form-control rounded-3"
                                           value="<%= admin.lastname %>"
                                           required>
                                </div>
                            </div>

                            <!-- Email -->
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email"
                                       name="email"
                                       class="form-control rounded-3"
                                       value="<%= admin.email %>"
                                       required>
                            </div>

                            <!-- Gender -->
                            <div class="mb-3">
                                <label class="form-label d-block">Gender</label>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                           type="radio"
                                           name="gender"
                                           value="Male"
                                           <%= admin.gender==='Male' ? 'checked' : '' %>>
                                    <label class="form-check-label">Male</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                           type="radio"
                                           name="gender"
                                           value="Female"
                                           <%= admin.gender==='Female' ? 'checked' : '' %>>
                                    <label class="form-check-label">Female</label>
                                </div>
                            </div>

                            <!-- Hobbies -->
                            <div class="mb-3">
                                <label class="form-label d-block">Hobbies</label>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                           type="checkbox"
                                           name="hobbies[]"
                                           value="reading"
                                           <%= admin.hobbies.includes('reading') ? 'checked' : '' %>>
                                    <label class="form-check-label">Reading</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                           type="checkbox"
                                           name="hobbies[]"
                                           value="music"
                                           <%= admin.hobbies.includes('music') ? 'checked' : '' %>>
                                    <label class="form-check-label">Music</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input"
                                           type="checkbox"
                                           name="hobbies[]"
                                           value="Adventure"
                                           <%= admin.hobbies.includes('Adventure') ? 'checked' : '' %>>
                                    <label class="form-check-label">Adventure</label>
                                </div>
                            </div>

                            <!-- Mobile -->
                            <div class="mb-4">
                                <label class="form-label">Mobile Number</label>
                                <input type="text"
                                       name="mobileno"
                                       class="form-control rounded-3"
                                       value="<%= admin.mobileno %>"
                                       required>
                            </div>

                            <!-- Submit -->
                            <div class="text-center">
                                <button type="submit"
                                        class="btn btn-primary px-5 py-2 rounded-3 shadow">
                                    Update Admin
                                </button>
                            </div>

                        </form>

                    </div>
                </div>

            </div>
        </div>

    </div>
</div>

<!-- Image Preview Script -->
<script>
function previewFile(input) {
    const file = input.files[0];
    if (file) {
        document.getElementById('previewImg').src =
            URL.createObjectURL(file);
    }
}
</script>

<%- include('../footer') %>
